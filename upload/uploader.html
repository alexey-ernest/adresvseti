<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title>Flash-загрузчик!</title>
    
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />   
    
	<script type="text/javascript" src="js/FABridge.js"></script>
	<script type="text/javascript" src="js/uploader.js"></script>
    
   <script type="text/javascript" src="js/swfobject.js"></script>
    <script type="text/javascript">
        <!-- For version detection, set to min. required Flash Player version, or 0 (or 0.0.0), for no version detection. --> 
        var swfVersionStr = "10.0.0";
        <!-- To use express install, set to playerProductInstall.swf, otherwise the empty string. -->
        var xiSwfUrlStr = "playerProductInstall.swf";
        var flashvars = {bridgeName: "b_uploader"};
        var params = {};
        params.quality = "high";
        params.bgcolor = "#ffffff";
        params.allowscriptaccess = "sameDomain";
        params.allowfullscreen = "true";
        params.wmode = "transparent";
        var attributes = {};
        attributes.id = "imageUploader";
        attributes.name = "imageUploader";
        attributes.align = "middle";
        swfobject.embedSWF(
            "uploader.swf", "flashContent", 
            "600", "400", 
            swfVersionStr, xiSwfUrlStr, 
            flashvars, params, attributes);
        <!-- JavaScript enabled so display the flashContent div in case it is not replaced with a swf object. -->
        swfobject.createCSS("#flashContent", "display:block;text-align:left;");
    </script>
    
	<!--<script src="Scripts/swfobject_modified.js" type="text/javascript"></script>-->
	<script type="text/javascript">
    <!--
	
	function uploaderReady()
	{
		//configuring uploader component
		uploader.setRedirectUrl('http://adresvseti.ru/upload/list.php'); // URL to redirect after upload
		//uploader.setVars('param1=value1&param2=value2'); // Additional variables string to append to HTTP POST request
		uploader.setAllowedFileTypes(['jpg', 'png']); // Array of allowed file types
		uploader.setMaxQuantity(20); // Maximum quantity of selected files
		uploader.setMaxTargetDataSize(2097152); // Maximum data size in bytes to uploading
		uploader.setTargetDimension(800); // Dimension of the largest side of image after scaling in pixels
		uploader.setTargetQualityOfJPEG(90); // Quality of JPG for images in percents (from 1 to 100)
		uploader.setTargetThumbDimension(120); // Maximum dimension of image thumbnail
		
		uploader.setReadingFilesMessage('Чтение файлов...'); // Reading files message
		uploader.setReadingFilesIOErrorMessage('Во время чтения локальных файлов возникла ошибка ввода-вывода. Попробуйте позже.'); // Reading IO error message
		uploader.setReadingFilesSecurityErrorMessage('Во время чтения локальных файлов возникла ошибка безопасности. Попробуйте позже.'); // Reading Security message
		uploader.setDecodingImagesMessage('Обработка изображений... Пожалуйста, подождите.'); // Images decoding process message
		uploader.setDecodingImagesIOErrorMessage('Во время загрузки изображений возникла ошибка ввода-вывода. Попробуйте позже.'); // Images decoding IO error message
		uploader.setUploadingFilesMessage('Отправка данных на сервер...'); // Uploading message
		uploader.setUploadingFilesIOErrorMessage('Во время отправки файлов на сервер возникла ошибка ввода-вывода. Попробуйте позже.'); // Uploading IO error message
		uploader.setUploadingFilesSecurityErrorMessage('Во время отправки файлов на сервер возникла ошибка безопасности. Попробуйте позже.'); // Uploading Security error message
		uploader.setMaxQuantityReachedErrorMessage('Вы не можете загружать больше {0} файлов одновременно!'); // Max quantity reached message
		uploader.setMaxTargetDataSizeExceedErrorMessage('Максимальный объем данных для загрузки - {0} MB. Объем Ваших данных - {1} MB.'); // Max target data size reached
		uploader.setSelectButtonLabel('(+) Добавить фотографии'); // Select button label
		
		// styling uploader component
		uploader.setTextColor(0x888888); // Color of component text
		uploader.setTextFontSize(12); // Font size of component labels
		uploader.setTextFontFamily('Arial'); // Font family of component labels
		uploader.setTextFontWeight('bold'); // Font weight of component labels
		uploader.setBackgroundAlpha(1); // The alpha of the background (from 0 to 1)
		uploader.setBackgroundColor(0xF2F2F2); // Color of the background fill
		uploader.setCellPadding(15); // Vertical and horizontal padding between thumbs of images
		uploader.setBorderAlpha(1); // The alpha of the border (from 0 to 1)
		uploader.setBorderColor(0xCCCCCC); // The color of the border
		uploader.setBorderWeight(1); // Weight of the border in pixels
		uploader.setBorderVisible(true); // Controls the visibility of the border (true|false)
		uploader.setCornerRadius(0); // The radius of the border corners
		
		uploader.setWindowTextColor(0x000000); // Popup window text color
		uploader.setWindowBorderWeight(10); // Popup window border weight
		uploader.setWindowBorderColor(0xF2F2F2); // Popup window border color
		uploader.setWindowContentPadding(10); // Popup window content pading
		uploader.setWindowContentColor(0xFFFFFF); // Popup window content color
	}
	
	FABridge.addInitializationCallback("b_uploader", uploaderReady);
	
	
	function submitForm()
	{
		var param1 = document.getElementById('param1');
		var value1 = '';
		if (param1)
		{
			value1 = param1.value;
		}
		
		var param2 = document.getElementById('param2');
		var value2 = '';
		if (param2)
		{
			value2 = param2.value;
		}
		
		var param3 = document.getElementById('param3');
		var value3 = '';
		if (param3)
		{
			value3 = param3.value;
		}
		
		var varsString = 'param1=' + value1 + '&' + 'param2=' + value2 + '&' + 'param3=' + value3;
		uploader.setVars(varsString);
		
		// sending data
		uploader.upload();
	}
	
    -->
    </script>
<style type="text/css">
<!--
body {
	background-color: #EEEEEE;
}
-->
</style>

</head>

<body>

<p>

		<div id="flashContent">
        	<p>
	        	To view this page ensure that Adobe Flash Player version 
				10.0.0 or greater is installed. 
			</p>
			<script type="text/javascript"> 
				var pageHost = ((document.location.protocol == "https:") ? "https://" :	"http://"); 
				document.write("<a href='http://www.adobe.com/go/getflashplayer'><img src='" 
								+ pageHost + "www.adobe.com/images/shared/download_buttons/get_flash_player.gif' alt='Get Adobe Flash player' /></a>" ); 
			</script> 
        </div>
	   	
       	<noscript>
            <object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="600" height="400" id="imageUploader">
                <param name="movie" value="uploader.swf" />
                <param name="quality" value="high" />
                <param name="allowScriptAccess" value="sameDomain" />
                <param name="allowFullScreen" value="true" />
                <param name="flashvars" value="bridgeName=b_uploader"/>
                <param name="wmode" value="transparent" />
                <!--[if !IE]>-->
                <object type="application/x-shockwave-flash" data="uploader.swf" width="600" height="400">
                    <param name="quality" value="high" />
                    <param name="allowScriptAccess" value="sameDomain" />
                    <param name="allowFullScreen" value="true" />
                    <param name="flashvars" value="bridgeName=b_uploader"/>
                	<param name="wmode" value="transparent" />
                <!--<![endif]-->
                <!--[if gte IE 6]>-->
                	<p> 
                		Either scripts and active content are not permitted to run or Adobe Flash Player version
                		10.0.0 or greater is not installed.
                	</p>
                <!--<![endif]-->
                    <a href="http://www.adobe.com/go/getflashplayer">
                        <img src="http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif" alt="Get Adobe Flash Player" />
                    </a>
                <!--[if !IE]>-->
                </object>
                <!--<![endif]-->
            </object>
	    </noscript>    
  
</p>
<p>
Параметр 1
<br />
<input type="text" id="param1" />
</p>

<p>
Параметр 2
<br /><input type="text" id="param2" />
</p>
  
<p>
Параметр 3
<br /><textarea id="param3"></textarea>
</p>
  
<p><input type="button" value="Отправить" onclick="submitForm();" /></p>
  
</body>

</html>